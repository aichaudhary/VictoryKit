# SecretVault - Tool 14 Environment Configuration
# Dual-Nature: Incident Board + Secret Management

# ===========================================
# SERVER CONFIGURATION
# ===========================================
NODE_ENV=development
PORT=4014
HOST=0.0.0.0

# ===========================================
# DATABASE
# ===========================================
MONGODB_URI=mongodb://localhost:27017/secretvault_db
MONGODB_DB_NAME=secretvault_db

# ===========================================
# SECURITY & ENCRYPTION
# ===========================================
# Master encryption key for encrypting stored keys (32 bytes hex)
MASTER_ENCRYPTION_KEY=your-32-byte-hex-key-here-change-in-production

# JWT Configuration
JWT_SECRET=your-jwt-secret-change-in-production
JWT_EXPIRES_IN=24h

# Key Encryption Algorithm
KEY_ALGORITHM=aes-256-gcm
KEY_DERIVATION_ITERATIONS=100000

# ===========================================
# INCIDENT BOARD
# ===========================================
# Max incidents per page
INCIDENTS_PER_PAGE=20

# Require email verification for incident reports
REQUIRE_VERIFICATION=false

# Auto-moderate incidents (spam filter)
AUTO_MODERATE=true

# ===========================================
# RATE LIMITING
# ===========================================
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# Incident creation rate limit (per IP)
INCIDENT_RATE_LIMIT_MAX=5
INCIDENT_RATE_LIMIT_WINDOW=3600000

# ===========================================
# REDIS (Optional - for caching)
# ===========================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# ===========================================
# AUDIT LOGGING
# ===========================================
ENABLE_AUDIT_LOG=true
AUDIT_LOG_RETENTION_DAYS=90

# ===========================================
# NOTIFICATIONS (Optional)
# ===========================================
# Email notifications for critical incidents
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
NOTIFICATION_EMAIL=admin@maula.ai

# ===========================================
# EXTERNAL INTEGRATIONS (Optional)
# ===========================================
# Slack webhook for incident alerts
SLACK_WEBHOOK_URL=

# VirusTotal API for malware verification
VIRUSTOTAL_API_KEY=

# AbuseIPDB for IP reputation
ABUSEIPDB_API_KEY=

# ===========================================
# CORS
# ===========================================
CORS_ORIGIN=https://secretvault.maula.ai
ALLOWED_ORIGINS=https://secretvault.maula.ai,http://localhost:3014

# ===========================================
# FEATURE FLAGS
# ===========================================
# Enable incident board feature
ENABLE_INCIDENT_BOARD=true

# Enable secret vault feature
ENABLE_SECRET_VAULT=true

# Enable public incident viewing (no auth required)
PUBLIC_INCIDENTS=true

# Require auth for creating incidents
REQUIRE_AUTH_FOR_INCIDENTS=false
