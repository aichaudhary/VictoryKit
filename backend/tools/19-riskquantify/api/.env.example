# ═══════════════════════════════════════════════════════════════════════════════
# 📊 RISKQUANTIFY - Environment Configuration
# Enterprise Risk Quantification & Intelligence Platform
# ═══════════════════════════════════════════════════════════════════════════════
# VictoryKit Security Suite - Tool 19
# Production URL: https://riskquantify.maula.ai
# ═══════════════════════════════════════════════════════════════════════════════

# ═══════════════════════════════════════════════════════════════════════════════
# APPLICATION CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════════

# Node Environment
NODE_ENV=development
# Options: development, staging, production, test

# Application Identity
APP_NAME=riskquantify
APP_DISPLAY_NAME=RiskQuantify Pro
APP_VERSION=19.0.0
APP_DESCRIPTION=Enterprise Risk Quantification & Intelligence Platform

# Server Configuration
PORT=4019
HOST=0.0.0.0
API_PREFIX=/api/v1

# WebSocket Configuration
WEBSOCKET_PORT=4119
WEBSOCKET_PATH=/ws
WEBSOCKET_MESSAGE_SIZE_LIMIT=1048576
WEBSOCKET_HEARTBEAT_INTERVAL=30000
WEBSOCKET_MAX_CONNECTIONS=1000

# Frontend Configuration
FRONTEND_PORT=3019
FRONTEND_URL=http://localhost:3019
# Production: https://riskquantify.maula.ai

# CORS Origins (comma-separated)
CORS_ORIGINS=http://localhost:3019,http://localhost:3000,https://riskquantify.maula.ai,https://maula.ai
CORS_CREDENTIALS=true

# Trust Proxy (for reverse proxy setups)
TRUST_PROXY=true

# ═══════════════════════════════════════════════════════════════════════════════
# DATABASE CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════════

# MongoDB Connection
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/victorykit?retryWrites=true&w=majority
MONGODB_DB_NAME=victorykit

# MongoDB Options
MONGODB_MAX_POOL_SIZE=50
MONGODB_MIN_POOL_SIZE=10
MONGODB_SERVER_SELECTION_TIMEOUT=5000
MONGODB_SOCKET_TIMEOUT=45000
MONGODB_HEARTBEAT_FREQUENCY=10000

# Redis Configuration (for caching & sessions)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=your-redis-password
REDIS_DB=19
REDIS_TLS_ENABLED=false
REDIS_KEY_PREFIX=riskquantify:

# ═══════════════════════════════════════════════════════════════════════════════
# AUTHENTICATION & SECURITY
# ═══════════════════════════════════════════════════════════════════════════════

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-minimum-32-characters-long-for-security
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=your-refresh-token-secret-also-32-chars-minimum
JWT_REFRESH_EXPIRES_IN=30d

# Session Configuration
SESSION_SECRET=your-session-secret-key-minimum-32-characters
SESSION_MAX_AGE=86400000

# API Key Authentication
API_KEY_HEADER=X-API-Key
API_KEY_PREFIX=rq_

# Password Security
BCRYPT_ROUNDS=12
PASSWORD_MIN_LENGTH=12
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBER=true
PASSWORD_REQUIRE_SPECIAL=true

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=1000
RATE_LIMIT_SKIP_SUCCESSFUL_REQUESTS=false
LOGIN_RATE_LIMIT_MAX=5
LOGIN_RATE_LIMIT_WINDOW_MS=300000

# ═══════════════════════════════════════════════════════════════════════════════
# AI/LLM PROVIDERS - Risk Analysis Intelligence
# ═══════════════════════════════════════════════════════════════════════════════

# OpenAI API (https://platform.openai.com/)
OPENAI_API_KEY=sk-your-openai-api-key
OPENAI_ORGANIZATION_ID=org-your-org-id
OPENAI_MODEL=gpt-4-turbo-preview
OPENAI_EMBEDDING_MODEL=text-embedding-3-large
OPENAI_MAX_TOKENS=4096
OPENAI_TEMPERATURE=0.3
OPENAI_TIMEOUT=60000

# Anthropic Claude API (https://www.anthropic.com/)
ANTHROPIC_API_KEY=sk-ant-your-anthropic-api-key
ANTHROPIC_MODEL=claude-3-opus-20240229
ANTHROPIC_MAX_TOKENS=4096

# Google Gemini API (https://ai.google.dev/)
GOOGLE_AI_API_KEY=your-google-ai-api-key
GOOGLE_AI_MODEL=gemini-1.5-pro
GOOGLE_VERTEX_PROJECT_ID=your-gcp-project-id
GOOGLE_VERTEX_LOCATION=us-central1

# Azure OpenAI (https://azure.microsoft.com/en-us/products/ai-services/openai-service)
AZURE_OPENAI_API_KEY=your-azure-openai-key
AZURE_OPENAI_ENDPOINT=https://your-resource.openai.azure.com
AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4-turbo
AZURE_OPENAI_API_VERSION=2024-02-01

# AWS Bedrock (https://aws.amazon.com/bedrock/)
AWS_BEDROCK_REGION=us-east-1
AWS_BEDROCK_ACCESS_KEY_ID=your-aws-access-key
AWS_BEDROCK_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_BEDROCK_MODEL_ID=anthropic.claude-3-sonnet-20240229-v1:0

# Cohere API (https://cohere.com/)
COHERE_API_KEY=your-cohere-api-key
COHERE_MODEL=command-r-plus

# AI Ensemble Configuration
AI_PRIMARY_PROVIDER=openai
AI_FALLBACK_PROVIDERS=anthropic,google,azure
AI_CONSENSUS_THRESHOLD=0.7
AI_MAX_RETRIES=3

# ═══════════════════════════════════════════════════════════════════════════════
# MONTE CARLO SIMULATION ENGINE
# ═══════════════════════════════════════════════════════════════════════════════

# Simulation Configuration
MONTE_CARLO_ITERATIONS=10000
MONTE_CARLO_DEFAULT_DISTRIBUTION=pert
MONTE_CARLO_CONFIDENCE_LEVELS=0.05,0.25,0.50,0.75,0.95,0.99
MONTE_CARLO_PARALLEL_WORKERS=4
MONTE_CARLO_CHUNK_SIZE=1000
MONTE_CARLO_SEED=null

# Value at Risk (VaR) Configuration
VAR_CONFIDENCE_LEVEL=0.95
CVAR_CONFIDENCE_LEVEL=0.95

# Distribution Parameters
PERT_LAMBDA=4
TRIANGULAR_MODE=most_likely

# ═══════════════════════════════════════════════════════════════════════════════
# FAIR FRAMEWORK CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════════

# FAIR Model Settings
FAIR_VERSION=3.0
FAIR_LEF_DISTRIBUTION=lognormal
FAIR_LM_DISTRIBUTION=pert
FAIR_SIMULATION_ITERATIONS=10000

# Loss Categories (comma-separated)
FAIR_PRIMARY_LOSS_FORMS=productivity,response,replacement,fines,competitive-advantage,reputation
FAIR_SECONDARY_LOSS_FORMS=notification,credit-monitoring,legal,regulatory

# Calibration
FAIR_THREAT_FREQUENCY_SCALE=annual
FAIR_VULNERABILITY_SCALE=percentage
FAIR_CURRENCY=USD

# ═══════════════════════════════════════════════════════════════════════════════
# COMPLIANCE FRAMEWORKS
# ═══════════════════════════════════════════════════════════════════════════════

# ISO 31000 Risk Management
ISO31000_VERSION=2018
ISO31000_ENABLED=true

# NIST Risk Management Framework
NIST_RMF_VERSION=2.0
NIST_CSF_VERSION=2.0
NIST_ENABLED=true

# COSO ERM Framework
COSO_VERSION=2017
COSO_ENABLED=true

# COBIT Framework
COBIT_VERSION=2019
COBIT_ENABLED=true

# ISO 27001 Information Security
ISO27001_VERSION=2022
ISO27001_ENABLED=true

# SOX Compliance
SOX_ENABLED=true
SOX_SECTION_302=true
SOX_SECTION_404=true

# GDPR Privacy
GDPR_ENABLED=true
GDPR_DPO_EMAIL=dpo@company.com

# PCI DSS
PCI_DSS_VERSION=4.0
PCI_DSS_ENABLED=true

# HIPAA
HIPAA_ENABLED=true

# ═══════════════════════════════════════════════════════════════════════════════
# THREAT INTELLIGENCE FEEDS
# ═══════════════════════════════════════════════════════════════════════════════

# MITRE ATT&CK Integration
MITRE_ATTACK_VERSION=14.0
MITRE_ATTACK_ENABLED=true
MITRE_ATTACK_UPDATE_INTERVAL=86400000

# VirusTotal API
VIRUSTOTAL_API_KEY=your-virustotal-api-key
VIRUSTOTAL_PREMIUM=false

# Shodan API
SHODAN_API_KEY=your-shodan-api-key

# AlienVault OTX
ALIENVAULT_OTX_API_KEY=your-otx-api-key

# IBM X-Force Exchange
IBM_XFORCE_API_KEY=your-xforce-api-key
IBM_XFORCE_PASSWORD=your-xforce-password

# Recorded Future
RECORDED_FUTURE_API_KEY=your-recorded-future-api-key

# Mandiant (Google Threat Intelligence)
MANDIANT_API_KEY=your-mandiant-api-key

# CrowdStrike Threat Intelligence
CROWDSTRIKE_CLIENT_ID=your-crowdstrike-client-id
CROWDSTRIKE_CLIENT_SECRET=your-crowdstrike-client-secret

# ═══════════════════════════════════════════════════════════════════════════════
# RISK DATA SOURCES & INTEGRATIONS
# ═══════════════════════════════════════════════════════════════════════════════

# GRC Platforms
SERVICENOW_INSTANCE=your-instance.service-now.com
SERVICENOW_USERNAME=integration-user
SERVICENOW_PASSWORD=your-servicenow-password

ARCHER_API_URL=https://your-archer-instance.com/api
ARCHER_API_KEY=your-archer-api-key

# Vulnerability Scanners
QUALYS_API_URL=https://qualysapi.qualys.com
QUALYS_USERNAME=your-qualys-username
QUALYS_PASSWORD=your-qualys-password

TENABLE_IO_ACCESS_KEY=your-tenable-access-key
TENABLE_IO_SECRET_KEY=your-tenable-secret-key

RAPID7_INSIGHT_API_KEY=your-rapid7-api-key

# SIEM Integration
SPLUNK_HEC_URL=https://your-splunk:8088
SPLUNK_HEC_TOKEN=your-splunk-hec-token

ELASTIC_CLOUD_ID=your-elastic-cloud-id
ELASTIC_API_KEY=your-elastic-api-key

# Identity Providers (for asset data)
OKTA_DOMAIN=your-domain.okta.com
OKTA_API_TOKEN=your-okta-api-token

AZURE_AD_TENANT_ID=your-azure-tenant-id
AZURE_AD_CLIENT_ID=your-azure-client-id
AZURE_AD_CLIENT_SECRET=your-azure-client-secret

# ═══════════════════════════════════════════════════════════════════════════════
# NOTIFICATION SERVICES
# ═══════════════════════════════════════════════════════════════════════════════

# Email Configuration (SMTP)
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=apikey
SMTP_PASS=your-sendgrid-api-key
EMAIL_FROM=noreply@riskquantify.maula.ai
EMAIL_FROM_NAME=RiskQuantify Pro

# SendGrid Direct API
SENDGRID_API_KEY=SG.your-sendgrid-api-key

# Slack Integration
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
SLACK_BOT_TOKEN=xoxb-your-slack-bot-token
SLACK_SIGNING_SECRET=your-slack-signing-secret
SLACK_CHANNEL_CRITICAL=#risk-critical
SLACK_CHANNEL_HIGH=#risk-high
SLACK_CHANNEL_GENERAL=#risk-management

# Microsoft Teams
MS_TEAMS_WEBHOOK_URL=https://outlook.office.com/webhook/YOUR/TEAMS/WEBHOOK

# PagerDuty
PAGERDUTY_API_KEY=your-pagerduty-api-key
PAGERDUTY_ROUTING_KEY=your-pagerduty-routing-key
PAGERDUTY_SERVICE_ID=your-service-id

# Twilio (SMS)
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_FROM_NUMBER=+1234567890

# ═══════════════════════════════════════════════════════════════════════════════
# REPORTING & EXPORT
# ═══════════════════════════════════════════════════════════════════════════════

# Report Generation
REPORT_TEMPLATE_DIR=./templates/reports
REPORT_OUTPUT_DIR=./output/reports
REPORT_RETENTION_DAYS=365

# PDF Generation
PDF_ENGINE=puppeteer
PDF_TIMEOUT=60000
PDF_FORMAT=A4
PDF_MARGIN_TOP=20mm
PDF_MARGIN_BOTTOM=20mm

# Excel Export
EXCEL_MAX_ROWS=100000
EXCEL_DATE_FORMAT=YYYY-MM-DD

# Cloud Storage for Reports
AWS_S3_BUCKET=riskquantify-reports
AWS_S3_REGION=us-east-1
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key

AZURE_STORAGE_CONNECTION_STRING=your-azure-storage-connection-string
AZURE_STORAGE_CONTAINER=reports

# ═══════════════════════════════════════════════════════════════════════════════
# MONITORING & OBSERVABILITY
# ═══════════════════════════════════════════════════════════════════════════════

# Application Monitoring
SENTRY_DSN=https://your-key@sentry.io/your-project
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1

# APM
DATADOG_API_KEY=your-datadog-api-key
DATADOG_APP_KEY=your-datadog-app-key
DATADOG_SITE=datadoghq.com

NEW_RELIC_LICENSE_KEY=your-new-relic-license-key
NEW_RELIC_APP_NAME=RiskQuantify Pro

# Metrics
PROMETHEUS_ENABLED=true
PROMETHEUS_PORT=9119
METRICS_PREFIX=riskquantify_

# Logging
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_PATH=./logs/riskquantify.log
LOG_MAX_SIZE=100m
LOG_MAX_FILES=14d

# ═══════════════════════════════════════════════════════════════════════════════
# FEATURE FLAGS
# ═══════════════════════════════════════════════════════════════════════════════

FEATURE_MONTE_CARLO=true
FEATURE_FAIR_FRAMEWORK=true
FEATURE_AI_ANALYSIS=true
FEATURE_THREAT_INTEL=true
FEATURE_REAL_TIME_COLLAB=true
FEATURE_ADVANCED_REPORTING=true
FEATURE_COMPLIANCE_MAPPING=true
FEATURE_PREDICTIVE_ANALYTICS=true
FEATURE_RISK_APPETITE=true
FEATURE_SCENARIO_ANALYSIS=true
FEATURE_BOW_TIE_ANALYSIS=true
FEATURE_KEY_RISK_INDICATORS=true

# ═══════════════════════════════════════════════════════════════════════════════
# SCHEDULED TASKS
# ═══════════════════════════════════════════════════════════════════════════════

# Risk Reassessment
CRON_RISK_REASSESSMENT=0 0 * * *
CRON_RISK_REASSESSMENT_ENABLED=true

# Threat Feed Updates
CRON_THREAT_FEED_UPDATE=0 */6 * * *
CRON_THREAT_FEED_ENABLED=true

# Report Generation
CRON_DAILY_REPORT=0 6 * * *
CRON_WEEKLY_REPORT=0 6 * * 1
CRON_MONTHLY_REPORT=0 6 1 * *

# Data Cleanup
CRON_CLEANUP_OLD_DATA=0 2 * * 0
DATA_RETENTION_DAYS=2555

# ═══════════════════════════════════════════════════════════════════════════════
# PERFORMANCE TUNING
# ═══════════════════════════════════════════════════════════════════════════════

# Cache Configuration
CACHE_TTL_DEFAULT=3600
CACHE_TTL_RISK_DATA=1800
CACHE_TTL_COMPLIANCE=86400
CACHE_TTL_THREAT_INTEL=3600

# Request Processing
MAX_REQUEST_SIZE=50mb
REQUEST_TIMEOUT=120000
MAX_CONCURRENT_SIMULATIONS=10

# Database Query Optimization
QUERY_TIMEOUT=30000
MAX_QUERY_RESULTS=10000
ENABLE_QUERY_EXPLAIN=false

# Worker Threads
WORKER_POOL_SIZE=4
WORKER_TASK_TIMEOUT=300000

# ═══════════════════════════════════════════════════════════════════════════════
# DEVELOPMENT & TESTING
# ═══════════════════════════════════════════════════════════════════════════════

# Debug Mode
DEBUG=riskquantify:*
DEBUG_SQL=false
DEBUG_HTTP=false

# Test Configuration
TEST_MONGODB_URI=mongodb://localhost:27017/victorykit_riskquantify_test
TEST_TIMEOUT=30000

# Mock Services
MOCK_AI_RESPONSES=false
MOCK_THREAT_FEEDS=false
MOCK_COMPLIANCE_API=false

# ═══════════════════════════════════════════════════════════════════════════════
# END OF CONFIGURATION
# ═══════════════════════════════════════════════════════════════════════════════
